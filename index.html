<!DOCTYPE html>
<html lang="en">

<head>
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
    <script>
        // Initialize Firebase
        firebase.initializeApp({
            apiKey: "AIzaSyD95RzrdQpI6PBNMfEOBRfmCpnN9ucqTbU",
            authDomain: "st-project-36358.firebaseapp.com",
            databaseURL: "https://st-project-36358.firebaseio.com",
            projectId:"st-project-36358",
            storageBucket: "st-project-36358.appspot.com",
            messagingSenderId: "236006288802", 
            //serviceAccount:"node-client-app/service-account.json",
            databaseURL:"https://st-project-36358.firebaseio.com"
        })
    </script>
    <script src='newStudent.js'></script>
    <link rel="stylesheet" href="index.css" type="text/css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PROJECTS</title>
</head>

<body>

    <div id="addedStudent"></div>

    <div class="newStudent"><button id="studentBtn" onclick="toggleNewStudentWindow()">Add Student</button></div>
    <div id="newStudent" class='newStudent'>
        <p>First Name:</p><input type="text" id="firstName1"><br>
        <p>Last Name:</p><input type="text" id="lastName1"><br>
        <p>Class Period(1-7)</p><input type="number" value=1 min=1 max=7 id="classPeriod"><br>
        <p>Year:</p>
        <input type=radio name=year value=1 class="radio" checked>1 &emsp;
        <input type=radio name=year value=2 class='radio'>2
        <br>
        <p><button id="submit1" onclick="newStuFunc();document.getElementById('firstName1').focus()">Submit</button></p>
        <p><button id='close1' onclick="toggleNewStudentWindow()">Close</button></p>
        <p>Does the Student have previous time?</p>
        <input type='checkbox' id="checked" onchange="showExtraDataInput()">
        <div id="preTime">
            <p>Hours:</p>
            <input type="number" value=0 id="preHour">
            <p>Minutes:</p>
            <input type="number" value=0 id="preMin">
        </div>
    </div>

    <div id="RemoveStu"><button onclick=toggleRemoveStudentWindow()>Remove Student</button></div>
    <div id="RemoveMenu">
        <p>Student First Name:<input type="text" id="firstName2"></p>
        <p>Student Last Name:<input type="text" id="lastName2"></p>
        <button id="submit2" onclick='remStuFunc();document.getElementById("firstName2").focus()'>Submit</button><br>
        <button id="close2" onclick='toggleRemoveStudentWindow()'>Close</button>
    </div>

    <div id="listView">
        <table id="stuView" class="stuView">
            <tr>
                <div class="header">
                    <th>Student Name</th>
                    <th>Student Time</th>
                    <th>Period</th>
                    <th>Year</th>
                </div>
            </tr>
        </table>
    </div>

    <script>
        eleInit();

        function newStuFunc() {
            var first = document.getElementById('firstName1'),
                last = document.getElementById('lastName1'),
                classNum = document.getElementById('classPeriod'),
                year = document.getElementsByName('year'),
                yearVal,
                min,
                hour
            
            Array.from(year).forEach(ele=>{
                if(ele.checked)
                    yearVal=ele.value
            })

            if(document.getElementById('checked').checked){
                min=document.getElementById('preMin').value
                hour=document.getElementById('preHour').value
            }
            if (addStudent(first.value, last.value,classNum.value, yearVal,hour,min)) {
                first.value = "";
                last.value = "";
                classNum.value = 1;
                year.value = null;
            }
        }
 
        function remStuFunc(){
            var first=document.getElementById('firstName2'),
                last=document.getElementById('lastName2')
            removeStu(first.value,last.value)
            first.value=''
            last.value=''
        }
    </script>

</body>

</html>
<!DOCTYPE html>