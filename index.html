<!DOCTYPE html>
<html lang="en">
<!--Screen resolution of chromebook is 1366x768 -->
<head>
    <script src="https://www.gstatic.com/firebasejs/5.5.6/firebase.js"></script>
    <script>
        // Initialize Firebase
        firebase.initializeApp({
            apiKey: "AIzaSyD95RzrdQpI6PBNMfEOBRfmCpnN9ucqTbU",
            authDomain: "st-project-36358.firebaseapp.com",
            databaseURL: "https://st-project-36358.firebaseio.com",
            projectId:"st-project-36358",
            storageBucket: "st-project-36358.appspot.com",
            messagingSenderId: "236006288802", 
            //serviceAccount:"node-client-app/service-account.json",
            databaseURL:"https://st-project-36358.firebaseio.com"
        })
    </script>
    <script src='src/cal/codebase/dhtmlxcalendar.js'></script>
    <link rel='stylesheet' href="src/cal/codebase/dhtmlxcalendar.css">
    <script src='newStudent.js'></script>
    <link rel="stylesheet" href="index.css" type="text/css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ST Project</title>
</head>

<body onload="calOnLoad()">
    
    <div id="Tab1">
            <button class="tab2" id="tab2" onclick="openTab2()">Calender</button>
    <div id="addedStudent"></div>

    <h1>Warren Central High School Cosmetology</h1>

    <div class="newStudent"><button id="studentBtn" onclick="toggleNewStudentWindow()">Add Student</button></div>
    <div id="newStudent" class='newStudent'>
        <p>First Name:</p><input type="text" class="input1" id="firstName1">
        <p>Last Name:</p><input type="text" class="input1" id="lastName1">
        <div class="pack1"><p class="input2">Period:</p>
        <div class="subpack"><input class="input2" type="radio" value=1 id="classPeriod" name='period' checked>(1-4)</div>
        <div class="subpack"><input class="input2" type="radio" value=2 id="classPeriod" name='period'>(5-7)</div></div>
        <div class="pack2"><p>Year:</p>
        <div class="subpack"><input type=radio name="year" value=1 class="radio" checked>1 &emsp;</div>
        <div class="subpack"><input type=radio name="year" value=2 class='radio'>2</div></div>
        <p><button id="submit1" onclick="newStuFunc();document.getElementById('firstName1').focus()">Submit</button></p>
        <p><button id='close1' onclick="toggleNewStudentWindow()">Close</button></p>
    </div>

    <div id="RemoveStu"><button onclick=toggleRemoveStudentWindow()>Remove Student</button></div>
    <div id="RemoveMenu">
        <p>Student First Name:<input type="text" class="input1" id="firstName2"></p>
        <p>Student Last Name:<input type="text" class="input1" id="lastName2"></p>
        <p>Case Senstive Search?<input type='checkbox' class="input1" id="checked2"></p>
        <button id="submit2" onclick='remStuFunc();document.getElementById("firstName2").focus()'>Submit</button><br>
        <button id="close2" onclick='toggleRemoveStudentWindow()'>Close</button>
    </div>
    <div id="listView">
        <table id="stuView" class="stuView">
            <tr>
                <div class="header">
                    <th>Student Name</th>
                    <th>Student Time</th>
                    <th>Period <select id='periodFilter' class="dropDown" onchange="filterChangePeriod()">
                        <option value="all">All</option>
                        <option value="1">1-4</option>
                        <option value="2">5-7</option>
                    </select></th>
                    <th>Year <select id='yearFilter' class="drowDown" onchange="filterChangeYear()">
                        <option value="all">All</option>
                        <option value="1">1st</option>
                        <option value="2">2nd</option>
                    </select></th>
                    <th>Adding Time</th>
                </div>
            </tr>
        </table>
    </div>
    </div>
    <div id="Tab2">
        <button class="tab1" id="tab1" onclick="openTab1()">StuView</button>

        <div class="calender" id="listView"><h2>Im saving the calenders spot</h2></div>

    </div>
    <div id="TabLoad">
        <h2>Currently loading in students</h2>
    </div>

    <script>
        eleInit();

        function newStuFunc() {
            var first = document.getElementById('firstName1'),
                last = document.getElementById('lastName1'),
                classNum = document.getElementsByName('period'),
                year = document.getElementsByName('year'),
                yearVal,
                classVal,
                min,
                hour
            
            Array.from(year).forEach(ele=>{
                if(ele.checked)
                    yearVal=ele.value
            })
            Array.from(classNum).forEach(ele=>{
                console.log(ele)
                if(ele.checked)
                    classVal=ele.value
            })

            if(document.getElementById('checked').checked){
                min=document.getElementById('preMin').value
                hour=document.getElementById('preHour').value
            }
            if (addStudent(first.value, last.value,classVal, yearVal,hour,min)) {
                first.value = "";
                last.value = "";
                classNum.value = 1;
                year.value = null;

            }
        }
 
        function remStuFunc(){
            var first=document.getElementById('firstName2'),
                last=document.getElementById('lastName2'),
                insens=document.getElementById('checked2')
            removeStu(first.value,last.value,insens.checked)
            first.value=''
            last.value=''
        }

        function openTab1() {
    
            document.getElementById("Tab1").style.display='block';
            document.getElementById("Tab2").style.display='none';
            document.getElementById("TabLoad").style.display='none'
        }

        function openTab2() {

            document.getElementById("Tab1").style.display='none';
            document.getElementById("Tab2").style.display='block';
            document.getElementById("TabLoad").style.display='none'
        }

        function openLoadTab(){
            document.getElementById("TabLoad").style.display='block'
            document.getElementById("Tab1").style.display="none"
            document.getElementById("Tab2").style.display="none"
        }
        openTab2()
        studentInit();
    </script>

</body>

</html>
<!DOCTYPE html>